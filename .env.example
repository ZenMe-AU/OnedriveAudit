# OnedriveAudit Environment Variables
# Copy this file to .env and fill in the actual values
# NEVER commit .env to the repository - it's already in .gitignore

# Azure Functions Configuration
FUNCTIONS_WORKER_RUNTIME=node
FUNCTIONS_NODE_VERSION=18

# Microsoft Graph API Configuration
# Get these from your Azure AD App Registration
GRAPH_CLIENT_ID=<your-azure-ad-app-registration-id>
GRAPH_TENANT_ID=<your-azure-ad-tenant-id>

# IMPORTANT: This should be a delegated user access token, not a client secret
# Acquire this token through OAuth 2.0 authorization code flow
# Token format: eyJ0eXAiOiJKV1QiLCJub25jZSI6...
GRAPH_ACCESS_TOKEN=<manually-acquired-oauth-access-token>

# Database Configuration
# PostgreSQL connection string
# Format: postgresql://username:password@hostname:port/database?sslmode=require
DATABASE_URL=postgresql://user:password@localhost:5432/onedriveaudit?sslmode=require

# Webhook Configuration
# Random secret string for validating webhook notifications (minimum 32 characters)
# Generate with: openssl rand -hex 32
WEBHOOK_CLIENT_STATE=<random-secret-string-min-32-chars>

# Delta Processing Control
# Controls whether the processDeltaBatch function is enabled
# Set to false by default; enabled automatically after successful startRoutine validation
PROCESS_DELTA_ENABLED=false

# Optional: Azure Storage for Function App (local development)
AzureWebJobsStorage=UseDevelopmentStorage=true
